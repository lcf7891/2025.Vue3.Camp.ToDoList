import{u as f,r as c,c as w,o as v,w as u,a as b,b as V,d as s,e as x,f as t,g}from"./index-BUx0zGjc.js";import{L as k,_ as l}from"./InputField-D3F1QiG4.js";import{a as N}from"./useApi-CcMlMu4W.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"ml-0 w-full lg:ml-26 lg:w-[304px]"},P={class:"text-center"},h={__name:"RegisterView",setup(T){const r=f(),d=b(),a=c({email:"",nickName:"",password:"",confirmPassword:""}),i=()=>{a.value={email:"",nickName:"",password:"",confirmPassword:""}},n=()=>{if(a.value.password!==a.value.confirmPassword){r.showToast("註冊失敗","密碼與確認密碼不符"),i();return}const m={email:a.value.email,password:a.value.password,nickname:a.value.nickName};N("users/sign_up","POST",m).then(e=>{e.status&&(r.showToast("註冊成功",e.uid),i(),d.push("/login"))}).catch(e=>{r.showToast("註冊失敗",e.message),i()})};return(m,e)=>{const p=V("RouterLink");return v(),w(k,null,{default:u(()=>[s("div",y,[e[6]||(e[6]=s("h2",{class:"mb-6 text-center text-2xl font-bold lg:text-left"},"註冊帳號",-1)),s("form",{class:"mb-6",onSubmit:x(n,["prevent"])},[t(l,{type:"email",id:"inputEmail",label:"Email",placeholder:"請輸入 Email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.email=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(l,{type:"text",id:"inputNick",label:"您的暱稱",placeholder:"請輸入您的暱稱",modelValue:a.value.nickName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.nickName=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(l,{type:"password",id:"inputPassword",label:"密碼",placeholder:"請輸入密碼",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.password=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(l,{class:"mb-3 lg:mb-6",type:"password",id:"inputConfirmPassword",label:"再次輸入密碼",placeholder:"請輸入再次輸入密碼",modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.confirmPassword=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),e[4]||(e[4]=s("div",{class:"text-center"},[s("button",{class:"basic-btn btn",type:"submit"},"註冊帳號")],-1))],32),s("div",P,[t(p,{to:"/login",class:"btn text-primary hover:text-primary/80 font-bold"},{default:u(()=>[...e[5]||(e[5]=[g(" 登入 ",-1)])]),_:1})])])]),_:1})}}};export{h as default};
